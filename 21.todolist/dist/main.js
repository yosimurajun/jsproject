(()=>{let e=[{type:"inbox",data:"5 mon 27 days",date:"2021-05-27"},{type:"inbox",data:"5 mon 28 days",date:"2021-05-27",checked:!1},{type:"inbox",data:"6 mon 2 days",date:"2021-06-02",checked:!0},{type:"inbox",data:"6 mon 1 days",date:"2021-06-01",checked:!1},{type:"work",data:"we are playing computer game",date:"2021-05-31",checked:!1},{type:"personal",data:"orange",date:"2021-05-30",checked:!0},{type:"inbox",data:"sherlock holmes and jackferson",date:"2021-05-28",checked:!0}];const t=document.querySelector("#container"),n=document.querySelector("#content"),d=document.querySelector(".side_header_ul"),a=document.querySelector(".main_header_title"),c=(document.querySelector(".main_container"),document.querySelector(".s_form")),s=document.querySelector(".main_ul");function o(d){const a=document.createElement("form"),i=document.createElement("input"),l=document.createElement("input"),p=document.createElement("button");if(i.setAttribute("type","text"),i.setAttribute("id","contents"),l.setAttribute("type","date"),l.setAttribute("id","date"),p.setAttribute("type","submit"),p.textContent="add",a.classList.add(d),a.classList.add("create"),a.classList.add("_form"),a.appendChild(i),a.appendChild(l),a.appendChild(p),c.innerHTML="",c.appendChild(a),"project"===d){const e=document.createElement("form"),a=document.createElement("input"),o=document.createElement("button");a.setAttribute("type","text"),a.setAttribute("id","contents"),o.setAttribute("type","submit"),o.textContent="add",e.classList.add(d),e.classList.add("create"),e.classList.add("_form"),e.appendChild(a),e.appendChild(o),c.innerHTML="",c.appendChild(e),e.addEventListener("submit",(e=>{e.preventDefault();const d=document.createElement("li");if(d.classList.add("side_link"),""==document.querySelector("#contents").value){const e=document.createElement("div");e.classList.add("alert");const d=document.createElement("p"),a=document.createElement("p");d.textContent="please input project name",a.textContent="ex) homework";const c=document.createElement("button");return c.textContent="close",c.classList.add("error_button"),a.classList.add("error_desc"),e.appendChild(d),e.appendChild(a),e.appendChild(c),n.appendChild(e),t.classList.add("stop"),void c.addEventListener("click",(n=>{n.target.parentElement.parentElement.removeChild(e),t.classList.remove("stop")}))}d.setAttribute("data-type",a.value),d.textContent=a.value,s.appendChild(d)}))}else{const a=document.createElement("form"),s=document.createElement("input"),i=document.createElement("input"),l=document.createElement("button");s.setAttribute("type","text"),s.setAttribute("id","contents"),i.setAttribute("type","date"),i.setAttribute("id","date"),l.setAttribute("type","submit"),l.textContent="add",a.classList.add(d),a.classList.add("create"),a.classList.add("_form"),a.appendChild(s),a.appendChild(i),a.appendChild(l),c.innerHTML="",c.appendChild(a),function(d,a){d.addEventListener("submit",(d=>{d.preventDefault(),console.log("submit");const c=document.querySelector("#contents"),s=document.querySelector("#date");if(""==c.value){const e=document.createElement("div");e.classList.add("alert");const d=document.createElement("p"),a=document.createElement("p");d.textContent="please input content",a.textContent="ex) homework";const c=document.createElement("button");return c.textContent="close",c.classList.add("error_button"),a.classList.add("error_desc"),e.appendChild(d),e.appendChild(a),e.appendChild(c),n.appendChild(e),t.classList.add("stop"),void c.addEventListener("click",(n=>{n.target.parentElement.parentElement.removeChild(e),t.classList.remove("stop")}))}if(""==s.value){const e=document.createElement("div");e.classList.add("alert");const d=document.createElement("p"),a=document.createElement("p");d.textContent="please input date",a.textContent="ex) mm / dd / yyyy >> 04 / 04 / 2024",a.classList.add("error_desc");const c=document.createElement("button");return c.textContent="close",c.classList.add("error_button"),e.appendChild(d),e.appendChild(a),e.appendChild(c),n.appendChild(e),t.classList.add("stop"),void c.addEventListener("click",(n=>{n.target.parentElement.parentElement.removeChild(e),t.classList.remove("stop")}))}{let t;t=((e,t,n)=>({type:e,data:t,date:n,checked:!1}))("today"==a||"next"==a?"inbox":a,c.value,s.value),e.push(t),o(a),r(a)}}))}(a,d)}}const i=document.querySelector(".items");function l(){const e=document.querySelectorAll(".side_link");s.classList.remove("active"),e.forEach((e=>e.classList.remove("active")))}function r(t){let n;i.innerHTML="",n="inbox"==t?e.sort(((e,t)=>e.date>t.date)).filter((e=>e.type===t)):"today"==t?e.sort(((e,t)=>e.date>t.date)).filter((e=>e.date===p())):"next"==t?e.sort(((e,t)=>e.date>t.date)).filter((e=>new Date(p()).getTime()<=new Date(e.date).getTime()&&new Date(e.date).getTime()<=new Date(p(7)).getTime())):e.sort(((e,t)=>e.date>t.date)).filter((e=>e.type===t)),n.forEach(((n,d)=>{const a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("input"),p=document.createElement("p"),u=document.createElement("span"),m=document.createElement("span"),h=document.createElement("div"),C=document.createElement("span"),L=document.createElement("span");a.classList.add("item"),s.classList.add("item_div_left"),l.classList.add("checkbox"),n.checked&&(p.classList.add("checked"),l.checked=!0),l.setAttribute("type","checkbox"),l.addEventListener("change",(e=>{const t=e.target.checked;t?(n.checked=t,p.classList.add("checked")):(n.checked=t,p.classList.remove("checked"))})),p.classList.add("item_para"),u.classList.add("detail"),"today"==t||"next"==t?(p.textContent=n.data,u.textContent=n.type):p.textContent=n.data,C.textContent="delete",C.classList.add("delete"),L.textContent="update",L.classList.add("update"),m.classList.add("date"),m.textContent=n.date,h.classList.add("option"),h.appendChild(m),h.appendChild(L),h.appendChild(C),s.appendChild(l),s.appendChild(p),s.appendChild(u),a.appendChild(s),a.appendChild(h),L.addEventListener("click",(d=>function(t,n){const d=document.createElement("form"),a=document.createElement("input"),s=document.createElement("input"),i=document.createElement("button");a.setAttribute("type","text"),a.setAttribute("id","contents"),s.setAttribute("type","date"),s.setAttribute("id","date"),i.setAttribute("type","submit"),i.textContent="update",d.classList.add("update"),d.classList.add("_form"),a.value=n.data,s.value=n.date,d.appendChild(a),d.appendChild(s),d.appendChild(i),c.innerHTML="",c.appendChild(d);let l=e.indexOf(n);d.addEventListener("submit",(n=>{n.preventDefault();const d=document.querySelector("#contents"),a=document.querySelector("#date");!function(t,n){e[n].data=t.data,e[n].date=t.date}({type:"inbox",data:d.value,date:a.value},l),o(t),r(t)}))}(t,n))),C.addEventListener("click",(d=>function(t,n){console.log("deleteItem :: "),console.log(t,n,date),i.innerHTML="","inbox"===t&&(e=e.filter((e=>e.data!==n)),r(t)),"today"===t&&(e=e.filter((e=>e.data!==n)),r(t)),"next"===t&&(e=e=e.filter((e=>e.data!==n)),r(t)),"inbox"!==t&&"today"!==t&&"next"!==t&&(e=e=e.filter((e=>e.data!==n)),r(t))}(t,n.data))),i.appendChild(a)}))}function p(e){const t=new Date;let n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),d=t.getFullYear(),a=t.getMonth()+1,c="";e?n=new Date(n.getFullYear(),n.getMonth()+1,n.getDate()+7):c=t.getDate();let s=n.getFullYear(),o=n.getMonth(),i=n.getDate();return o<10&&(o="0"+o),i<10&&(i="0"+i),a<10&&(a="0"+a),c<10&&(c="0"+c),e?`${s}-${o}-${i}`:`${d}-${a}-${c}`}d.addEventListener("click",(e=>{const t=e.target.dataset.type;"inbox"==t&&(l(),a.textContent=t,e.target.classList.add("active"),o(t),r(t)),"today"==t&&(l(),a.textContent=t,e.target.classList.add("active"),o(t),r(t)),"next"===t&&(l(),a.textContent=t,e.target.classList.add("active"),o(t),r(t)),"project"==t&&(l(),a.textContent=t,i.innerHTML="",e.target.classList.add("active"),o(t))})),s.addEventListener("click",(e=>{const t=e.target.dataset.type;t&&(l(),a.textContent=t,e.target.classList.add("active"),o(t),r(t))}))})();